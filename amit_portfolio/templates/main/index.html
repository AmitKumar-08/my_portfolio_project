{% extends 'main/base.html' %}
{% load static %}

{% block content %}

<!-- Hero Section -->
<section id="home" class="hero-section d-flex align-items-center min-vh-100">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-6" data-aos="fade-right">
                <div class="hero-content">
                    <h1 class="display-4 fw-bold mb-3">
                        Hi, I'm <span class="text-primary">{{ profile.name|default:"Amit" }}</span>
                    </h1>
                    <h2 class="h3 text-muted mb-4">{{ profile.tagline|default:"Full Stack Developer" }}</h2>
                    <p class="lead mb-4">{{ profile.about|default:"Passionate about creating amazing web experiences with clean code and modern technologies." }}</p>
                    
                    <div class="hero-buttons">
                        <a href="#contact" class="btn btn-primary btn-lg me-3 hire-btn">
                            <i class="fas fa-handshake me-2"></i>Hire Me
                        </a>
                        {% if profile.cv_file %}
                        <a href="{% url 'main:download_cv' %}" target="_blank" class="btn btn-outline-primary btn-lg cv-btn">
                            <i class="fas fa-download me-2"></i>View CV
                        </a>
                        {% endif %}
                    </div>
                    
                    <div class="social-links mt-4">
                        {% if profile.github_url %}
                        <a href="{{ profile.github_url }}" target="_blank" class="social-link me-3">
                            <i class="fab fa-github fa-2x"></i>
                        </a>
                        {% endif %}
                        {% if profile.linkedin_url %}
                        <a href="{{ profile.linkedin_url }}" target="_blank" class="social-link me-3">
                            <i class="fab fa-linkedin fa-2x"></i>
                        </a>
                        {% endif %}
                    </div>
                </div>
            </div>
            
            <div class="col-lg-6" data-aos="fade-left">
                <div class="hero-image text-center">
                    {% if profile.profile_image %}
                        <img src="{{ profile.profile_image.url }}" alt="{{ profile.name }}" class="profile-img">
                    {% else %}
                        <img src="{% static 'images/profile.jpg' %}" alt="Profile" class="profile-img">
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
    
    <!-- Floating Elements -->
    <div class="floating-elements">
        <div class="floating-shape shape-1"></div>
        <div class="floating-shape shape-2"></div>
        <div class="floating-shape shape-3"></div>
    </div>
</section>

<!-- About Section -->
<section id="about" class="py-5 bg-light">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-8 text-center" data-aos="fade-up">
                <h2 class="section-title">About Me</h2>
                <p class="section-subtitle">Get to know me better</p>
                <div class="about-content">
                    <p class="lead">{{ profile.about|default:"I'm a passionate full-stack developer with expertise in modern web technologies. I love creating efficient, scalable, and user-friendly applications that solve real-world problems." }}</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Education Section -->
<section id="education" class="py-5">
    <div class="container">
        <div class="text-center mb-5" data-aos="fade-up">
            <h2 class="section-title">Education Background</h2>
            <p class="section-subtitle">My academic journey</p>
        </div>
        
        <div class="row justify-content-center">
            <div class="col-lg-10">
                <div class="education-timeline">
                    {% for edu in education %}
                    <div class="education-item {% if edu.is_current %}current-education{% endif %}" data-aos="fade-right" data-aos-delay="{{ forloop.counter }}00">
                        <div class="education-icon">
                            <i class="fas fa-graduation-cap"></i>
                        </div>
                        <div class="education-content">
                            <div class="education-date">
                                <span class="badge bg-{% if edu.is_current %}success{% else %}secondary{% endif %}">
                                    {{ edu.start_date|date:"Y" }} - {% if edu.end_date %}{{ edu.end_date|date:"Y" }}{% else %}Present{% endif %}
                                </span>
                                {% if edu.is_current %}
                                <span class="badge bg-success ms-2">Current</span>
                                {% endif %}
                            </div>
                            <h4 class="education-title">
                                <i class="fas fa-university me-2 text-primary"></i>
                                {{ edu.degree }}
                            </h4>
                            <div class="education-institution">
                                <i class="fas fa-map-marker-alt me-2 text-secondary"></i>
                                <strong>{{ edu.institution }}</strong>
                                {% if edu.location %}, {{ edu.location }}{% endif %}
                            </div>
                            {% if edu.grade %}
                            <div class="education-grade mt-2">
                                <span class="grade-badge">
                                    <i class="fas fa-trophy me-1"></i>
                                    Grade: <strong>{{ edu.grade }}</strong>
                                </span>
                            </div>
                            {% endif %}
                            {% if edu.description %}
                            <div class="education-description mt-3">
                                <p>{{ edu.description }}</p>
                            </div>
                            {% endif %}
                        </div>
                    </div>
                    {% empty %}
                    <p class="text-center">No education records available.</p>
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Skills Section -->
<section id="skills" class="skills-section py-5">
    <div class="container">
        <div class="text-center mb-5" data-aos="fade-up">
            <h2 class="section-title">üõ†Ô∏è Technical Skills</h2>
            <p class="section-subtitle">Technologies and tools I work with</p>
        </div>
        
        <div class="row justify-content-center">
            <div class="col-lg-10">
                <div class="row">
                    {% for skill in technical_skills %}
                    <div class="col-lg-6 col-md-6 mb-4" data-aos="fade-up" data-aos-delay="{{ forloop.counter }}00">
                        <div class="skill-card">
                            <div class="skill-icon">
                                <i class="{{ skill.icon|default:'fas fa-code' }}"></i>
                            </div>
                            <div class="skill-content">
                                <h4 class="skill-title">{{ skill.name }}</h4>
                                <div class="skill-level">
                                    <div class="skill-bar">
                                        <div class="skill-progress" style="width: 0%;" data-percentage="{{ skill.proficiency }}%"></div>
                                    </div>
                                    <span class="skill-percentage">{{ skill.proficiency }}%</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                </div>

                <!-- Skills Summary -->
                <div class="skills-summary mt-5" data-aos="fade-up" data-aos-delay="500">
                    <div class="summary-card">
                        <div class="summary-content">
                            <h3 class="summary-title">
                                <i class="fas fa-code me-2"></i>
                                Technical Expertise Summary
                            </h3>
                            <p class="summary-description">
                                I specialize in full-stack web development with a strong foundation in backend technologies. 
                                My expertise spans from building scalable web applications to designing efficient 
                                database solutions. My skills enable me to work on diverse projects and integrate different technologies seamlessly.
                            </p>
                            <div class="tech-stack">
                                {% for skill in technical_skills %}
                                <span class="tech-item">
                                    <i class="{{ skill.icon|default:'fas fa-code' }}"></i> {{ skill.name }}
                                </span>
                                {% endfor %}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Projects Section -->
<section id="projects" class="projects-section py-5">
    <div class="container">
        <div class="text-center mb-5" data-aos="fade-up">
            <h2 class="section-title">Projects</h2>
            <p class="section-subtitle">What I've been working on</p>
        </div>
        
        <div class="row">
            {% for project in projects %}
            <div class="col-lg-4 col-md-6 mb-4" data-aos="fade-up" data-aos-delay="{{ forloop.counter }}00">
                <div class="project-card">
                    <div class="project-image">
                        {% if project.image %}
                            <img src="{{ project.image.url }}" alt="{{ project.title }}">
                        {% else %}
                            <i class="fas fa-project-diagram"></i>
                        {% endif %}
                    </div>
                    <div class="project-content">
                        <h5 class="project-title">{{ project.title }}</h5>
                        <p class="project-description">{{ project.description|truncatewords:20 }}</p>
                        
                        <div class="project-tech">
                            {% for tech in project.get_technologies_list %}
                            <span class="tech-tag">{{ tech }}</span>
                            {% endfor %}
                        </div>
                        
                        <div class="project-links">
                            {% if project.github_url %}
                            <a href="{{ project.github_url }}" target="_blank">
                                <i class="fab fa-github me-1"></i>Code
                            </a>
                            {% endif %}
                            {% if project.live_url %}
                            <a href="{{ project.live_url }}" target="_blank">
                                <i class="fas fa-external-link-alt me-1"></i>Live Demo
                            </a>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>
            {% empty %}
            <p class="text-center">No projects available.</p>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Contact Section -->
<section id="contact" class="contact-section py-5">
    <div class="container">
        <div class="text-center mb-5" data-aos="fade-up">
            <h2 class="section-title">Get In Touch</h2>
            <p class="section-subtitle">Let's work together</p>
        </div>
        
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <form method="post" action="{% url 'main:contact' %}" id="contact-form" class="contact-form" data-aos="fade-up">
                    {% csrf_token %}
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label for="{{ contact_form.name.id_for_label }}" class="form-label">{{ contact_form.name.label }}</label>
                            {{ contact_form.name }}
                        </div>
                        <div class="col-md-6 mb-3">
                            <label for="{{ contact_form.email.id_for_label }}" class="form-label">{{ contact_form.email.label }}</label>
                            {{ contact_form.email }}
                        </div>
                    </div>
                    
                    <div class="mb-3">
                        <label for="{{ contact_form.phone.id_for_label }}" class="form-label">{{ contact_form.phone.label }}</label>
                        {{ contact_form.phone }}
                    </div>
                    
                    <div class="mb-4">
                        <label for="{{ contact_form.message.id_for_label }}" class="form-label">{{ contact_form.message.label }}</label>
                        {{ contact_form.message }}
                    </div>
                    
                    <div class="text-center">
                        <button type="submit" class="btn btn-submit">
                            <i class="fas fa-paper-plane me-2"></i>Send Message
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</section>

{% endblock %}